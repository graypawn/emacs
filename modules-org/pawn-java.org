#+TITLE:Java
#+OPTIONS: toc:2 num:nil ^:nil
| precondition | repository |
|--------------+------------|
| vim          | pacman     |
| eclipse-java | pacman     |
| groovy       | pacman     |
| eclim        | AUR        |

| packages    |
|-------------|
| emacs-eclim |
#+BEGIN_SRC sh
# groovy CLASSPATH
yaourt -S groovy
for i in `ls /usr/share/groovy/lib/ | grep jar`; do export CLASSPATH=$CLASSPATH":/usr/share/groovy/lib/"$i; done;

yaourt -S eclim
#+END_SRC

#+BEGIN_EXAMPLE sh
# Eclim Test
ECLIPSE_HOME=/usr/lib/eclipse
$ECLIPSE_HOME/eclimd
#+END_EXAMPLE

#+BEGIN_SRC emacs-lisp
(use-package eclim :ensure emacs-eclim
  :if (executable-find "eclipse")
  :commands start-eclimd
  :config
  (setq eclim-eclipse-dirs "/usr/lib/eclipse/")
  (setq eclim-executable "/usr/lib/eclipse/eclim")
  (setq eclimd-executable "/usr/lib/eclipse/eclimd")
  (setq eclimd-default-workspace "~/workspace/")
  (setq eclimd-wait-for-process nil)

  ;; Displaying compilation error messages in the echo area
  (setq help-at-pt-display-when-idle t)
  (setq help-at-pt-timer-delay 0.1)
  (help-at-pt-set-timer)

  ;; keybindings
  (bind-key "C-c C-e C-r" 'eclim-run-class eclim-mode-map)
  (bind-key "C-c C-e C-b" 'eclim-project-build eclim-mode-map)

  (unbind-key "C-c C-e b" eclim-mode-map)
  (bind-key "C-c C-e b b" 'eclim-problems eclim-mode-map)
  (bind-key "C-c C-e b o" 'eclim-problems-open eclim-mode-map)
  (bind-key "C-c C-e b n" 'eclim-problems-next eclim-mode-map)
  (bind-key "C-c C-e b p" 'eclim-problems-previous eclim-mode-map)
  (bind-key "C-c C-e b c" 'eclim-problems-correct eclim-mode-map)

  (bind-key "M-." 'eclim-java-find-declaration eclim-mode-map)
  (bind-key "M-," 'pop-tag-mark eclim-mode-map)

  (require 'eclimd)
  (require 'eclim-java)
  (add-hook 'java-mode-hook 'eclim-mode)
  )
#+END_SRC

#+BEGIN_EXAMPLE emacs-lisp
start-eclimd
;; dir : ~/workspare
eclim-project-create
;; Name: hello
;; dir : ~/workspace/hello
;; lang: java

;; create source file
eclim-project-build
eclim-run-class
#+END_EXAMPLE
* Reference
[[https://github.com/jdee-emacs/jdee-server][github:jdee]]
[[http://futurismo.biz/archives/2675][コマンドラインから JUnit を使う方法]]
[1] [[http://tenten.tistory.com/entry/Java-Ant-buildxml-%EC%9E%91%EC%84%B1][Java Ant build.xml 작성]]
[[https://ant.apache.org/manual/tutorial-HelloWorldWithAnt.html][Tutorial: Hello World with Apache Ant]]
[[http://futurismo.biz/archives/2462][Eclim で Emacs と Eclipse のいいとこどり!Emacs で Java 開発環境を構築した (副題 打倒 Eclipse!)]]
[[http://futurismo.biz/archives/2675][コマンドラインから JUnit を使う方法]]
[[https://github.com/senny/emacs-eclim][senny/emacs-eclim]]
[[http://mikio.github.io/article/2012/12/23_emacsjdeejava.html][Emacs中毒者に贈るJDEEによるJava開発環境の構築]]
