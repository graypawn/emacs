#+TITLE:UI Preference
#+AUTHOR: graypawn
#+EMAIL: choi.pawn@gmail.com
#+OPTIONS: toc:2 num:nil ^:nil
| packages    |
|-------------|
| smartparens |
| which-key   |
* OS Config
#+BEGIN_SRC emacs-lisp
;;; emacs --daemon으로 실행한 경우
(defun linux-daemon-config ()
  (add-to-list 'default-frame-alist '(font . "Hack-12"))
  (add-hook 'after-make-frame-functions
            (lambda (frame)
              (with-selected-frame frame
                (set-fontset-font "fontset-default"
                                  'hangul
                                  '("NanumGothic" . "iso10646-1"))
                (set-fontset-font "fontset-default"
                                  'japanese-jisx0208
                                  '("VL Gothic" . "unicode-bmp"))))))

(defun linux-config ()
  (set-frame-font "Hack-12" t)
  (set-fontset-font "fontset-default"
                    'hangul
                    '("NanumGothic" . "iso10646-1"))
  (set-fontset-font "fontset-default"
                    'japanese-jisx0208
                    '("VL Gothic" . "unicode-bmp")))

(cond
 ((daemonp) (linux-daemon-config))
 ((eq system-type 'gnu/linux) (linux-config)))
#+END_SRC
* Theme
#+BEGIN_SRC emacs-lisp
(use-package zenburn-theme
  :ensure t
  :config
  (load-theme 'zenburn t))
#+END_SRC
* Modeline
#+BEGIN_SRC emacs-lisp
(setq column-number-mode t)

(defadvice vc-mode-line (after strip-backend () activate)
  (when (stringp vc-mode)
    (let ((vc-text (replace-regexp-in-string
                   (format "^ %s:" (vc-backend buffer-file-name))
                   " " vc-mode)))
      (setq vc-mode vc-text))))

(setq-default
 mode-line-format
 '("%e" mode-line-front-space
   mode-line-mule-info
;;   mode-line-client
   mode-line-modified
   mode-line-remote
;;   mode-line-frame-identification
   mode-line-buffer-identification
   "   "
   mode-line-position
   (:eval (propertize
           (format "[%s]" (projectile-project-name))
           'face '(:weight bold)))
   (vc-mode vc-mode)
   "  "
   mode-line-modes
   mode-line-misc-info
   mode-line-end-spaces)
 )

;;; diminish
(use-package abbrev :diminish abbrev-mode)
#+END_SRC
* Smartparens
#+BEGIN_SRC emacs-lisp
(use-package smartparens-config
  :ensure smartparens
  :diminish smartparens-mode
  :config
  (setq sp-base-key-bindings 'paredit
        sp-autoskip-closing-pair 'always)
  (smartparens-global-mode t)
  (show-smartparens-global-mode t)
  (sp-use-paredit-bindings)

  (sp-local-pair 'org-mode "'" nil :actions nil)
  (sp-local-pair 'org-mode "`" nil :actions nil)

  (sp-with-modes sp--lisp-modes
    ;; disable ', it's the quote character!
    (sp-local-pair "'" nil :actions nil)
    ;; also only use the pseudo-quote inside strings where it serve as
    ;; hyperlink.
    (sp-local-pair "`" "'" :when '(sp-in-string-p sp-in-comment-p))
    (sp-local-pair "`" nil
                   :skip-match (lambda (ms mb me)
                                 (cond
                                  ((equal ms "'")
                                   (or (sp--org-skip-markup ms mb me)
                                       (not (sp-point-in-string-or-comment))))
                                  (t (not (sp-point-in-string-or-comment)))))))

  ;; Smartparens-strict-mode in lispy modes.
  (mapc (lambda (mode)
          (add-hook (intern (format "%s-hook" (symbol-name mode)))
                    'smartparens-strict-mode))
        sp--lisp-modes))
#+END_SRC
* Disable Bell
Beep을 끈다. 또한 시각적 bell도 사용하지 않는다.
#+BEGIN_SRC emacs-lisp
(setq visible-bell nil)
(setq ring-bell-function 'ignore)
#+END_SRC
* Replace 'yes or no' with 'y or n'
enable y/n answers
#+BEGIN_SRC emacs-lisp
(fset 'yes-or-no-p 'y-or-n-p)
#+END_SRC
* Disable window chrome
최대한 간단한 GUI를 사용한다.
#+BEGIN_SRC emacs-lisp
(when (fboundp 'tool-bar-mode)
  (tool-bar-mode -1))
(when (fboundp 'menu-bar-mode)
  (menu-bar-mode -1))
(when (fboundp 'scroll-bar-mode)
  (scroll-bar-mode -1))
#+END_SRC
* Simple startup
초기 구동 시, 비어있는 sratch를 연다.
#+BEGIN_SRC emacs-lisp
(setq inhibit-startup-message t)
(setq initial-scratch-message "")
#+END_SRC
* Display available keybindings in popup
키를 입력하면 사용가능한 Keybinding을 보여준다.
#+BEGIN_SRC emacs-lisp
(use-package which-key
  :ensure t
  :diminish which-key-mode
  :config (which-key-mode))
#+END_SRC
